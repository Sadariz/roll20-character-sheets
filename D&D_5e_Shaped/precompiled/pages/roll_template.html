<rolltemplate class="sheet-rolltemplate-5e">
  <div class="sheet-rt-card">
    <div class="sheet-rt-header sheet-relative{{#attack_roll}} sheet-attack{{/attack_roll}}{{#spell}} sheet-spell{{/spell}}{{#ability}} sheet-ability{{/ability}}{{#save}} sheet-save{{/save}}{{#death_save}} sheet-death-save{{/death_save}}">
      <div class="sheet-rt-title sheet-pad-l-xxl sheet-pad-r-xxl">{{title}}</div>
      <div class="sheet-tooltip-position-wrapper">
        {{#concentration}}
          <div class="sheet-col sheet-tooltip">
            <span class="sheet-pictos-custom sheet-concentration-icon sheet-center">y</span>
            <div class="sheet-tooltip-content-left sheet-tooltip-small sheet-small-label"><span>Concentration</span></div>
          </div>
        {{/concentration}}
        {{#ritual}}
          <div class="sheet-col sheet-tooltip">
            <span class="sheet-pictos-custom sheet-ritual-icon sheet-center">r</span>
            <div class="sheet-tooltip-content-left sheet-tooltip-small sheet-small-label"><span>Ritual</span></div>
          </div>
        {{/ritual}}
      </div>
      {{#show_character_name}}
        <div class="sheet-rt-sub-header">{{character_name}}</div>
      {{/show_character_name}}

      {{#spell}}
        <div class="sheet-rt-sub-header">{{spell_friendly_level}}{{#spell_cast_as_level}} (as {{spell_cast_as_level}}){{/spell_cast_as_level}}{{#school}} &bullet; {{school}}{{/school}}{{#range}} &bullet; {{range}}{{/range}}</div>
        <div class="sheet-rt-sub-header">
          {{#components_verbal}}V{{/components_verbal}}{{#components_somatic}}{{#components_verbal}}, {{/components_verbal}}S{{/components_somatic}}{{#components_material}}{{#components_verbal}}{{^components_somatic}}, {{/components_somatic}}{{/components_verbal}}{{#components_somatic}}, {{/components_somatic}}M{{/components_material}}
          {{#components_material}} ({{components_material}}){{/components_material}}
        </div>
        <div class="sheet-rt-sub-header">{{#casting_time}}{{casting_time}}{{/casting_time}}{{#duration}} &bullet; {{duration}}{{/duration}}</div>
        <div class="sheet-rt-sub-header">{{source}}</div>
      {{/spell}}
      {{#attack}}
        <div class="sheet-rt-sub-header">{{attack_type}} {{#reach}} &bullet; {{reach}}{{/reach}}{{#range}} &bullet; {{range}}{{/range}}{{#ammo}} &bullet; {{ammo}} ammo{{/ammo}}{{#target}} &bullet; {{target}}{{/target}}</div>
      {{/attack}}
      {{#sub_header}}
        <div class="sheet-rt-sub-header">{{sub_header}}{{#sub_header_right}} &bullet; {{sub_header_right}}{{/sub_header_right}}</div>
      {{/sub_header}}
      {{#targetName}}
        <div class="sheet-rt-sub-header">vs {{targetName}}</div>
      {{/targetName}}
    </div>
    {{#emote}}
      <p class="sheet-rt-emote">{{character_name}} {{emote}}</p>
    {{/emote}}
    <div class="sheet-rt-content">
      {{#gained_from}}
        <div class="sheet-shaped-row">
          <div class="sheet-col-33 sheet-rt-key">Gained From</div>
          <div class="sheet-col-67 sheet-rt-value">{{gained_from}}</div>
        </div>
      {{/gained_from}}
      {{#description}}
        <div class="sheet-shaped-row">
          <div class="sheet-col sheet-rt-key">Description</div>
          <div class="sheet-col sheet-rt-value">{{description}}</div>
        </div>
      {{/description}}
      {{#spell}}
        {{#target}}
          <div class="sheet-shaped-row">
            <div class="sheet-col-33 sheet-rt-key">Target</div>
            <div class="sheet-col-67 sheet-rt-value">{{target}}</div>
          </div>
        {{/target}}
      {{/spell}}
      {{#aoe}}
        <div class="sheet-shaped-row">
          <div class="sheet-col-33 sheet-rt-key">AoE</div>
          <div class="sheet-col-67 sheet-rt-value">{{aoe}}</div>
        </div>
      {{/aoe}}

      <!--old weapons-->
      {{#attack}}
        <div class="sheet-shaped-row">
          <div class="sheet-col-33 sheet-rt-key">Attack</div>
          <div class="sheet-col-67 sheet-rt-value">{{attack}} | {{attack_adv}} vs AC{{#targetAC}} {{targetAC}}{{/targetAC}}</div>
        </div>
      {{/attack}}
      <!--old weapons-->

      {{#damage}}
        <div class="sheet-shaped-row">
          <div class="sheet-col-33 sheet-rt-key">Damage</div>
          <div class="sheet-col-67 sheet-rt-value">{{damage}} {{damage_type}}{{#alt_damage}}, or {{alt_damage}} {{damage_type}}{{#alt_damage_reason}} {{alt_damage_reason}}{{/alt_damage_reason}}{{/alt_damage}}{{#second_damage}} + {{second_damage}} {{second_damage_type}}{{/second_damage}}</div>
        </div>
      {{/damage}}
      {{#rollWasCrit() attack}}
        <div class="sheet-shaped-row">
          <div class="sheet-col-33 sheet-rt-key">Crit Dmg</div>
          <div class="sheet-col-67 sheet-rt-value">{{crit_damage}} {{damage_type}}{{#alt_damage}}, or {{alt_crit_damage}} {{damage_type}}{{#alt_damage_reason}} {{alt_damage_reason}}{{/alt_damage_reason}}{{/alt_damage}}{{#second_damage}} + {{second_crit_damage}} {{second_damage_type}}{{/second_damage}}</div>
        </div>
      {{/rollWasCrit() attack}}
      {{#rollWasCrit() attack_adv}}
        <div class="sheet-shaped-row">
          <div class="sheet-col-33 sheet-rt-key">Crit Dmg (adv roll)</div>
          <div class="sheet-col-67 sheet-rt-value">{{crit_damage}} {{damage_type}}{{#alt_damage}}, or {{alt_crit_damage}} {{damage_type}}{{#alt_damage_reason}} {{alt_damage_reason}}{{/alt_damage_reason}}{{/alt_damage}}{{#second_damage}} + {{second_crit_damage}} {{second_damage_type}}{{/second_damage}}</div>
        </div>
      {{/rollWasCrit() attack_adv}}
      {{#heal}}
        <div class="sheet-shaped-row">
          <div class="sheet-col-33 sheet-rt-key">Healing</div>
          <div class="sheet-col-67 sheet-rt-value">{{heal}} HP healed</div>
        </div>
      {{/heal}}
      {{#save_condition}}
        <div class="sheet-shaped-row">
          <div class="sheet-col-33 sheet-rt-key">Save Condition</div>
          <div class="sheet-col-67 sheet-rt-value">{{save_condition}}</div>
        </div>
      {{/save_condition}}
      {{#save_dc}}
        <div class="sheet-shaped-row">
          <div class="sheet-col-33 sheet-rt-key">Save</div>
          <div class="sheet-col-67 sheet-rt-value"><span class="sheet-no-class{{#hide_save_dc}} sheet-gm-info-inline-block{{/hide_save_dc}}">DC {{save_dc}}&nbsp;</span>{{save_stat}}</div>
        </div>
      {{/save_dc}}
      {{#save_damage}}
        <div class="sheet-shaped-row">
          <div class="sheet-col-33 sheet-rt-key">Damage</div>
          <div class="sheet-col-67 sheet-rt-value">{{save_damage}} {{save_damage_type}}{{#save_second_damage}} + {{save_second_damage}} {{save_second_damage_type}}{{/save_second_damage}}</div>
        </div>
      {{/save_damage}}
      {{#save_failure}}
        <div class="sheet-shaped-row{{#hide_save_failure}} sheet-gm-info-block{{/hide_save_failure}}">
          <div class="sheet-col-50 sheet-rt-key">Save Failure</div>
          <div class="sheet-col sheet-rt-value">{{save_failure}}</div>
        </div>
      {{/save_failure}}
      {{#save_success}}
        <div class="sheet-shaped-row{{#hide_save_success}} sheet-gm-info-block{{/hide_save_success}}">
          <div class="sheet-col-33 sheet-rt-key">Save Success</div>
          <div class="sheet-col-67 sheet-rt-value">{{save_success}}</div>
        </div>
      {{/save_success}}
      {{#effects}}
        <div class="sheet-shaped-row{{#hide_effects}} sheet-gm-info-block{{/hide_effects}}">
          <div class="sheet-col-33 sheet-rt-key">Effect</div>
          <div class="sheet-col sheet-rt-value">{{effects}}</div>
        </div>
      {{/effects}}
      {{#recharge}}
        <div class="sheet-shaped-row{{#hide_recharge}} sheet-gm-info-block{{/hide_recharge}}">
          <div class="sheet-col-33 sheet-rt-key sheet-smaller-letter-spacing">Recharge</div>
          <div class="sheet-col-67 sheet-rt-value">{{recharge}}</div>
        </div>
      {{/recharge}}

      {{#higher_level_effects}}
        <div class="sheet-shaped-row">
          <div class="sheet-col sheet-rt-key">At Higher Levels</div>
          <div class="sheet-col sheet-rt-value">{{higher_level_effects}}</div>
        </div>
      {{/higher_level_effects}}

      {{#freetext}}
        <div class="sheet-shaped-row">
          <div class="sheet-col sheet-rt-key">{{freetextname}}</div>
          <div class="sheet-col sheet-rt-value">{{freetext}}</div>
        </div>
      {{/freetext}}
      {{#roll}}
        <div class="sheet-shaped-row">
          <div class="sheet-col-33 sheet-rt-key">{{roll_name}}</div>
          <div class="sheet-col-67 sheet-rt-value">{{roll}}{{#roll_adv}} | {{roll_adv}}{{/roll_adv}}</div>
        </div>
      {{/roll}}

      {{#allprops() classaction freetext character_name save title show_character_name sub_header sub_header_right roll_name roll roll_adv ability emote death_save targetAC targetName attack attack_roll can_crit attack_type crit_damage crit_damage_adv second_damage second_damage_type second_crit_damage alt_damage alt_damage_reason alt_crit_damage melee ranged attack_adv damage target aoe reach range ammo ammo_auto ammo_field spell save_condition save_dc save_stat save_success save_failure save_damage save_damage_type save_second_damage save_second_damage_type spell_friendly_level school concentration ritual gained_from description higher_level_effects spell_cast_as_level heal casting_time duration source components_verbal components_somatic components_material effects hide_save_dc hide_save_failure hide_save_success hide_effects recharge hide_recharge                           multiattack mattack1 mdamage1 mattack1adv mcritdamage1 mattack2 mdamage2 mattack2adv mcritdamage2 mattack3 mdamage3 mattack3adv mcritdamage3 mattack4 mdamage4 mattack4adv mcritdamage4 mattack5 mdamage5 mattack5adv mcritdamage5}}
        <div class="sheet-shaped-row">
          <div class="sheet-col-33 sheet-rt-key">{{key}}</div>
          <div class="sheet-col-67 sheet-rt-value">{{value}}</div>
        </div>
      {{/allprops() classaction freetext character_name save title show_character_name sub_header sub_header_right roll_name roll roll_adv ability emote death_save targetAC targetName attack attack_roll can_crit attack_type crit_damage crit_damage_adv second_damage second_damage_type second_crit_damage alt_damage alt_damage_reason alt_crit_damage melee ranged attack_adv damage target aoe reach range ammo ammo_auto ammo_field spell save_condition save_dc save_stat save_success save_failure save_damage save_damage_type save_second_damage save_second_damage_type spell_friendly_level school concentration ritual gained_from description higher_level_effects spell_cast_as_level heal casting_time duration source components_verbal components_somatic components_material effects hide_save_dc hide_save_failure hide_save_success hide_effects recharge hide_recharge                           multiattack mattack1 mdamage1 mattack1adv mcritdamage1 mattack2 mdamage2 mattack2adv mcritdamage2 mattack3 mdamage3 mattack3adv mcritdamage3 mattack4 mdamage4 mattack4adv mcritdamage4 mattack5 mdamage5 mattack5adv mcritdamage5}}

      {{#multiattack}}
        {{#mattack1}}
          <div class="sheet-shaped-row">
            <div class="sheet-col-33 sheet-rt-key">Attack1</div>
            <div class="sheet-col-67 sheet-rt-value">{{mattack1}} | {{mattack1adv}} vs AC{{#targetAC}} {{targetAC}}{{/targetAC}}</div>
          </div>
        {{/mattack1}}
        {{#mdamage1}}
          <div class="sheet-shaped-row">
            <div class="sheet-col-33 sheet-rt-key">Damage1</div>
            <div class="sheet-col-67 sheet-rt-value">{{mdamage1}}</div>
          </div>
        {{/mdamage1}}
        {{#rollWasCrit() mattack1}}
          <div class="sheet-shaped-row">
            <div class="sheet-col-33 sheet-rt-key">Crit1</div>
            <div class="sheet-col-67 sheet-rt-value">{{mcritdamage1}}</div>
          </div>
        {{/rollWasCrit() mattack1}}
        {{#rollWasCrit() mattack1adv}}
          <div class="sheet-shaped-row">
            <div class="sheet-col-33 sheet-rt-key">Crit1 (adv roll)</div>
            <div class="sheet-col-67 sheet-rt-value">{{mcritdamage1}}</div>
          </div>
        {{/rollWasCrit() mattack1adv}}

        {{#mattack2}}
          <div class="sheet-shaped-row">
            <div class="sheet-col-33 sheet-rt-key">Attack2</div>
            <div class="sheet-col-67 sheet-rt-value">{{mattack2}} | {{mattack2adv}} vs AC{{#targetAC}} {{targetAC}}{{/targetAC}}</div>
          </div>
        {{/mattack2}}
        {{#mdamage2}}
          <div class="sheet-shaped-row">
            <div class="sheet-col-33 sheet-rt-key">Damage2</div>
            <div class="sheet-col-67 sheet-rt-value">{{mdamage2}}</div>
          </div>
        {{/mdamage2}}
        {{#rollWasCrit() mattack2}}
          <div class="sheet-shaped-row">
            <div class="sheet-col-33 sheet-rt-key">Crit2</div>
            <div class="sheet-col-67 sheet-rt-value">{{mcritdamage2}}</div>
          </div>
        {{/rollWasCrit() mattack2}}
        {{#rollWasCrit() mattack2adv}}
          <div class="sheet-shaped-row">
            <div class="sheet-col-33 sheet-rt-key">Crit2 (adv roll)</div>
            <div class="sheet-col-67 sheet-rt-value">{{mcritdamage2}}</div>
          </div>
        {{/rollWasCrit() mattack2adv}}

        {{#mattack3}}
          <div class="sheet-shaped-row">
            <div class="sheet-col-33 sheet-rt-key">Attack3</div>
            <div class="sheet-col-67 sheet-rt-value">{{mattack3}} | {{mattack3adv}} vs AC{{#targetAC}} {{targetAC}}{{/targetAC}}</div>
          </div>
        {{/mattack3}}
        {{#mdamage3}}
          <div class="sheet-shaped-row">
            <div class="sheet-col-33 sheet-rt-key">Damage3</div>
            <div class="sheet-col-67 sheet-rt-value">{{mdamage3}}</div>
          </div>
        {{/mdamage3}}
        {{#rollWasCrit() mattack3}}
          <div class="sheet-shaped-row">
            <div class="sheet-col-33 sheet-rt-key">Crit3</div>
            <div class="sheet-col-67 sheet-rt-value">{{mcritdamage3}}</div>
          </div>
        {{/rollWasCrit() mattack3}}
        {{#rollWasCrit() mattack3adv}}
          <div class="sheet-shaped-row">
            <div class="sheet-col-33 sheet-rt-key">Crit3 (adv roll)</div>
            <div class="sheet-col-67 sheet-rt-value">{{mcritdamage3}}</div>
          </div>
        {{/rollWasCrit() mattack3adv}}

        {{#mattack4}}
          <div class="sheet-shaped-row">
            <div class="sheet-col-33 sheet-rt-key">Attack4</div>
            <div class="sheet-col-67 sheet-rt-value">{{mattack4}} | {{mattack4adv}} vs AC{{#targetAC}} {{targetAC}}{{/targetAC}}</div>
          </div>
        {{/mattack4}}
        {{#mdamage4}}
          <div class="sheet-shaped-row">
            <div class="sheet-col-33 sheet-rt-key">Damage4</div>
            <div class="sheet-col-67 sheet-rt-value">{{mdamage4}}</div>
          </div>
        {{/mdamage4}}
        {{#rollWasCrit() mattack4}}
          <div class="sheet-shaped-row">
            <div class="sheet-col-33 sheet-rt-key">Crit4</div>
            <div class="sheet-col-67 sheet-rt-value">{{mcritdamage4}}</div>
          </div>
        {{/rollWasCrit() mattack4}}
        {{#rollWasCrit() mattack4adv}}
          <div class="sheet-shaped-row">
            <div class="sheet-col-33 sheet-rt-key">Crit4 (adv roll)</div>
            <div class="sheet-col-67 sheet-rt-value">{{mcritdamage4}}</div>
          </div>
        {{/rollWasCrit() mattack4adv}}

        {{#mattack5}}
          <div class="sheet-shaped-row">
            <div class="sheet-col-33 sheet-rt-key">Attack5</div>
            <div class="sheet-col-67 sheet-rt-value">{{mattack5}} | {{mattack5adv}} vs AC{{#targetAC}} {{targetAC}}{{/targetAC}}</div>
          </div>
        {{/mattack5}}
        {{#mdamage5}}
          <div class="sheet-shaped-row">
            <div class="sheet-col-33 sheet-rt-key">Damage5</div>
            <div class="sheet-col-67 sheet-rt-value">{{mdamage5}}</div>
          </div>
        {{/mdamage5}}
        {{#rollWasCrit() mattack5}}
          <div class="sheet-shaped-row">
            <div class="sheet-col-33 sheet-rt-key">Crit5</div>
            <div class="sheet-col-67 sheet-rt-value">{{mcritdamage5}}</div>
          </div>
        {{/rollWasCrit() mattack5}}
        {{#rollWasCrit() mattack5adv}}
          <div class="sheet-shaped-row">
            <div class="sheet-col-33 sheet-rt-key">Crit5 (adv roll)</div>
            <div class="sheet-col-67 sheet-rt-value">{{mcritdamage5}}</div>
          </div>
        {{/rollWasCrit() mattack5adv}}
      {{/multiattack}}

      {{#outputall}}
        {{#allprops() outputall title sub_header sub_header_right emote attack spell ability save death_save}}
          <div class="sheet-shaped-row">
            <div class="sheet-col-33 sheet-rt-key">{{key}}</div>
            <div class="sheet-col-67 sheet-rt-value">{{value}}</div>
          </div>
        {{/allprops() outputall title sub_header sub_header_right emote attack spell ability save death_save}}
      {{/outputall}}
    </div>
  </div>
</rolltemplate>